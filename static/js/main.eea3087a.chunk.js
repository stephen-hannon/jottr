(this.webpackJsonpjottr=this.webpackJsonpjottr||[]).push([[0],{12:function(e,t,n){e.exports=n(18)},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),u=n(4),i=n(1),l=n(11),s=n(10),m=n(2);function f(e,t,n){var c=Object(a.useState)((function(){return e.getItem(t,n)})),r=Object(i.a)(c,2),o=r[0],u=r[1];return Object(a.useEffect)((function(){e.setItem(t,o)}),[e,t,o]),[o,u]}var v=n(8),d=n(9);function p(e){var t=e.autoFocus,n=e.data,a=e.deleteDisabled,r=e.moveUpDisabled,o=e.moveDownDisabled,u=e.onDelete,i=e.onMove,l=e.onChange;return c.a.createElement("div",{className:"Note"},c.a.createElement("input",{value:n.title,onChange:function(e){var t=e.target;return l("title",t.value)},placeholder:"Title"}),c.a.createElement("button",{disabled:r,onClick:function(){return i(-1)}},"\u2191"),c.a.createElement("button",{disabled:o,onClick:function(){return i(1)}},"\u2193"),c.a.createElement("button",{disabled:a,onClick:u},"delete"),c.a.createElement("textarea",{autoFocus:t,value:n.text,placeholder:"Start typing...",onChange:function(e){var t=e.target;return l("text",t.value)}}))}var b={title:"",text:""},g=new(function(){function e(t){Object(v.a)(this,e),this.namespace=t,this.storage=window.localStorage}return Object(d.a)(e,[{key:"getNamespacedKey",value:function(e){return this.namespace?"".concat(this.namespace,"_").concat(e):e}},{key:"getItem",value:function(e,t){var n=this.storage.getItem(this.getNamespacedKey(e));return null===n&&void 0!==t?t:JSON.parse(n)}},{key:"removeItem",value:function(e){this.storage.removeItem(this.getNamespacedKey(e))}},{key:"setItem",value:function(e,t){var n=JSON.stringify(t);this.storage.setItem(this.getNamespacedKey(e),n)}}]),e}())("jottr");function h(e,t){switch(t.type){case"change":var n=Object(m.a)(Object(m.a)(Object(m.a)({},b),e[t.key]),{},{[t.parameter]:t.value});return g.setItem(t.key,n),Object(m.a)(Object(m.a)({},e),{},{[t.key]:n});case"delete":g.removeItem(t.key);var a=t.key;e[a];return Object(l.a)(e,[a].map(s.a));default:throw new Error("Unexpected action type ".concat(t.type))}}function y(e){console.log("gis",e);var t={};return e.forEach((function(e){t[e]=g.getItem(e)})),t}function j(){var e=f(g,"keys",[]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=f(g,"nextKey",0),l=Object(i.a)(o,2),s=l[0],m=l[1],v=Object(a.useReducer)(h,n,y),d=Object(i.a)(v,2),j=d[0],O=d[1];Object(a.useEffect)((function(){g.setItem("version",1)}),[]);var k=function(e){return function(t){r(function(e,t,n){if(n<0||n>=e.length)return e;var a=Object(u.a)(e),c=a.splice(t,1)[0];return a.splice(n,0,c),a}(n,e,e+t))}};return c.a.createElement(c.a.Fragment,null,[s].concat(Object(u.a)(n)).map((function(e,t){return c.a.createElement(p,{key:e,autoFocus:0===t,data:j[e]||b,moveUpDisabled:t<=1,moveDownDisabled:0===t||t===n.length,deleteDisabled:0===t,onMove:k(t-1),onChange:function(a,c){0===t&&(r([s].concat(Object(u.a)(n))),m(s+1)),O({type:"change",key:e,value:c,parameter:a})},onDelete:function(){r(n.filter((function(t){return t!==e}))),O({type:"delete",key:e})}})})))}console.log(g);n(17);function O(){return c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"Jottr"),c.a.createElement(j,null))}var k=document.getElementById("root");o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),k)}},[[12,1,2]]]);
//# sourceMappingURL=main.eea3087a.chunk.js.map